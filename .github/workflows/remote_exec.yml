name: Remote Executor
on:
  workflow_dispatch:
    inputs:
      code:
        description: 'Python code'
        required: true
jobs:
  run-code:
    runs-on: ubuntu-latest
    steps:
      - name: Execute Remote Code
        run: |
          set +x
          # 送られてきたコードを一度Base64で受け取って、ログに中身が出ないようにデコードして実行
          echo "${{ github.event.inputs.code }}" | base64 -d > remote_script.py
          python3 remote_script.py
